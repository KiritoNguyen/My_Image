<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

        <title>Location 360 Map</title>

        <!-- Babylon.js -->
        <script src="https://code.jquery.com/pep/0.4.2/pep.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.6.2/dat.gui.min.js"></script>
        <script src="https://preview.babylonjs.com/cannon.js"></script>
        <script src="https://preview.babylonjs.com/Oimo.js"></script>
        <script src="https://preview.babylonjs.com/gltf_validator.js"></script>
        <script src="https://preview.babylonjs.com/earcut.min.js"></script>
        <script src="https://preview.babylonjs.com/babylon.js"></script>
        <script src="https://preview.babylonjs.com/inspector/babylon.inspector.bundle.js"></script>
        <script src="https://preview.babylonjs.com/materialsLibrary/babylonjs.materials.min.js"></script>
        <script src="https://preview.babylonjs.com/proceduralTexturesLibrary/babylonjs.proceduralTextures.min.js"></script>
        <script src="https://preview.babylonjs.com/postProcessesLibrary/babylonjs.postProcess.min.js"></script>
        <script src="https://preview.babylonjs.com/loaders/babylonjs.loaders.js"></script>
        <script src="https://preview.babylonjs.com/serializers/babylonjs.serializers.min.js"></script>
        <script src="https://preview.babylonjs.com/gui/babylon.gui.min.js"></script>

        <style>
            html, body {
                overflow: hidden;
                width: 100%;
                height: 100%;
                margin: 0;
                padding: 0;
            }

            #renderCanvas {
                width: 100%;
                height: 100%;
                touch-action: none;
            }
        </style>
    </head>
<body>
    <canvas id="renderCanvas"></canvas>
    <script>
        var canvas = document.getElementById("renderCanvas");
        var engine = new BABYLON.Engine(canvas, true, { preserveDrawingBuffer: true, stencil: true });

        var createBtnClose = function() {
            var advancedTexture = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("UI");      
            var button = BABYLON.GUI.Button.CreateSimpleButton("but", "X");
            button.width = "40px";
            button.height ="40px";
            button.top = 10;
            button.left = -10;
            button.color = "white";
            button.verticalAlignment = BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP;
            button.horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_RIGHT;
            button.background = "green";
            advancedTexture.addControl(button);
            button.onPointerClickObservable.add(function(){
                advancedTexture.dispose();
                var scene1 = createScene();
                engine.stopRenderLoop();
                engine.runRenderLoop(function () {               
                    scene1.render();
                })
            })
        }

        var createScene = function () {
            var scene = new BABYLON.Scene(engine);
            var camera = new BABYLON.ArcRotateCamera("Camera", -Math.PI / 2,  Math.PI / 3, 125, BABYLON.Vector3.Zero(), scene);
            camera.target=new BABYLON.Vector3.Zero();
            camera.lowerRadiusLimit = 25;
            camera.upperRadiusLimit = 175; 
            camera.attachControl(canvas, true);
            // camera.inputs.attached.mousewheel.detachControl(canvas);
            
            var light = new BABYLON.HemisphericLight("light1", new BABYLON.Vector3(0, 100, -100), scene);

            // Ground
            var ground = BABYLON.Mesh.CreateGroundFromHeightMap("ground", 'https://raw.githubusercontent.com/KiritoNguyen/My_Image/master/MyImage/Nhan/DisplacementMap.png', 200, 200, 200, 0, 10, scene, false);
            var groundMaterial = new BABYLON.StandardMaterial("groundMat", scene)
            groundMaterial.diffuseTexture = new BABYLON.Texture("https://raw.githubusercontent.com/KiritoNguyen/My_Image/master/MyImage/Nhan/stadium_up.png", scene);
            groundMaterial.bumpTexture = new BABYLON.Texture('https://raw.githubusercontent.com/KiritoNguyen/My_Image/master/MyImage/Nhan/NormalMap.png', scene);
            groundMaterial.specularTexture = new BABYLON.Texture('https://raw.githubusercontent.com/KiritoNguyen/My_Image/master/MyImage/Nhan/SpecularMap.png', scene);
            groundMaterial.ambientTexture = new BABYLON.Texture('https://raw.githubusercontent.com/KiritoNguyen/My_Image/master/MyImage/Nhan/AmbientOcclusionMap.png', scene);
            ground.material = groundMaterial;
            ground.position.y = -15;

            ///////////////////////////// TEXT FOR BUTTON ///////////////////////////
            var txtStadium = new BABYLON.GUI.TextBlock();
            txtStadium.text = "Allianz\nStadium";
            txtStadium.color = "white";
            txtStadium.fontSize = 36;

            var txtParking = new BABYLON.GUI.TextBlock();
            txtParking.text = "Parking";
            txtParking.color = "white";
            txtParking.fontSize = 36;

            var txtNationalLeague = new BABYLON.GUI.TextBlock();
            txtNationalLeague.text = "National\nLeague";
            txtNationalLeague.color = "white";
            txtNationalLeague.fontSize = 36;

            var txtKippaxLake = new BABYLON.GUI.TextBlock();
            txtKippaxLake.text = "Kippax Lake";
            txtKippaxLake.color = "white";
            txtKippaxLake.fontSize = 36;

            var txtStadiumSportsPhysiotherapy = new BABYLON.GUI.TextBlock();
            txtStadiumSportsPhysiotherapy.text = "Stadium Sports\nPhysiotherapy";
            txtStadiumSportsPhysiotherapy.color = "white";
            txtStadiumSportsPhysiotherapy.fontSize = 36;

            var txtGateACricket = new BABYLON.GUI.TextBlock();
            txtGateACricket.text = "Gate A";
            txtGateACricket.color = "white";
            txtGateACricket.fontSize = 36;

            var txtSydneyCricketGround = new BABYLON.GUI.TextBlock();
            txtSydneyCricketGround.text = "Sydney Cricket\nGround";
            txtSydneyCricketGround.color = "white";
            txtSydneyCricketGround.fontSize = 36;

            var txtStadiumForecourt = new BABYLON.GUI.TextBlock();
            txtStadiumForecourt.text = "Stadium\nForecourt";
            txtStadiumForecourt.color = "white";
            txtStadiumForecourt.fontSize = 36;
            /////////////////////////////////////////////////////////////////////////

            var locStadium = new BABYLON.Mesh.CreateBox("locStadium", 0, scene);
            locStadium.visibility = 0;
            locStadium.position.x -= 40;
            locStadium.position.z += 20;
            // locStadium.rotation.x = Math.PI/2;

            var locParking = new BABYLON.Mesh.CreateBox("locParking", 0, scene);
            locParking.visibility = 0;
            locParking.position.x -= 40;
            locParking.position.z -= 50
            // locParking.rotation.x = Math.PI/2;

            var locNationalLeague = new BABYLON.Mesh.CreateBox("locNationalLeague", 0, scene);
            locNationalLeague.visibility = 0;
            locNationalLeague.position.x -= 20;
            locNationalLeague.position.z -= 60
            // locNationalLeague.rotation.x = Math.PI/2;

            var locKippaxLake = new BABYLON.Mesh.CreateBox("locKippaxLake", 0, scene);
            locKippaxLake.visibility = 0;
            locKippaxLake.position.x += 20;
            locKippaxLake.position.z -= 60
            // locKippaxLake.rotation.x = Math.PI/2;

            var locStadiumSportsPhysiotherapy = new BABYLON.Mesh.CreateBox("locStadiumSportsPhysiotherapy", 0, scene);
            locStadiumSportsPhysiotherapy.visibility = 0;
            locStadiumSportsPhysiotherapy.position.x -= 70;
            locStadiumSportsPhysiotherapy.position.z -= 25
            // locStadiumSportsPhysiotherapy.rotation.x = Math.PI/2;

            var locGateACricket = new BABYLON.Mesh.CreateBox("locGateACricket", 0, scene);
            locGateACricket.visibility = 0;
            locGateACricket.position.x += 50;
            locGateACricket.position.z += 10
            // locGateACricket.rotation.x = Math.PI/2;

            var locSydneyCricketGround = new BABYLON.Mesh.CreateBox("locSydneyCricketGround", 0, scene);
            locSydneyCricketGround.visibility = 0;
            locSydneyCricketGround.position.x += 40;
            locSydneyCricketGround.position.z += 50
            // locSydneyCricketGround.rotation.x = Math.PI/2;

            var locStadiumForecourt = new BABYLON.Mesh.CreateBox("locStadiumForecourt", 0, scene);
            locStadiumForecourt.visibility = 0;
            locStadiumForecourt.position.x -= 15;
            locStadiumForecourt.position.z -= 40
            // locStadiumForecourt.rotation.x = Math.PI/2;

            var manager = new BABYLON.GUI.GUI3DManager(scene);
        
            var btnStadium = new BABYLON.GUI.Button3D("Allianz Stadium");

            btnStadium.content = txtStadium; 
            manager.addControl(btnStadium);
            btnStadium.scaling.x=10;
            btnStadium.scaling.y=10;
            btnStadium.linkToTransformNode(locStadium);
            btnStadium.onPointerClickObservable.add(function(){
                manager.dispose();
                var scene1=createStadium();
                engine.stopRenderLoop();
                engine.runRenderLoop(function () {               
                    scene1.render();
                })
            })

            var btnParking = new BABYLON.GUI.Button3D("Parking");
            btnParking.content = txtParking; 
            manager.addControl(btnParking);
            btnParking.scaling.x=10;
            btnParking.scaling.y=10;
            btnParking.linkToTransformNode(locParking);
            btnParking.onPointerClickObservable.add(function(){
                manager.dispose();
                var scene1=createParking();
                engine.stopRenderLoop();
                engine.runRenderLoop(function () {               
                    scene1.render();
                })
            })
            
            var btnNationalLeague = new BABYLON.GUI.Button3D("National League");
            btnNationalLeague.content = txtNationalLeague; 
            manager.addControl(btnNationalLeague);
            btnNationalLeague.scaling.x=10;
            btnNationalLeague.scaling.y=10;
            btnNationalLeague.linkToTransformNode(locNationalLeague);
            btnNationalLeague.onPointerClickObservable.add(function(){
                manager.dispose();
                var scene1=createNationalLeague();
                engine.stopRenderLoop();
                engine.runRenderLoop(function () {               
                    scene1.render();
                })
            })

            var btnKippaxLake = new BABYLON.GUI.Button3D("Kippax Lake");
            btnKippaxLake.content = txtKippaxLake; 
            manager.addControl(btnKippaxLake);
            btnKippaxLake.scaling.x=10;
            btnKippaxLake.scaling.y=10;
            btnKippaxLake.linkToTransformNode(locKippaxLake);
            btnKippaxLake.onPointerClickObservable.add(function(){
                manager.dispose();
                var scene1=createLake();
                engine.stopRenderLoop();
                engine.runRenderLoop(function () {               
                    scene1.render();
                })
            })

            var btnStadiumSportsPhysiotherapy = new BABYLON.GUI.Button3D("Stadium Sports Physiotherapy");
            btnStadiumSportsPhysiotherapy.content = txtStadiumSportsPhysiotherapy; 
            manager.addControl(btnStadiumSportsPhysiotherapy);
            btnStadiumSportsPhysiotherapy.scaling.x=10;
            btnStadiumSportsPhysiotherapy.scaling.y=10;
            btnStadiumSportsPhysiotherapy.linkToTransformNode(locStadiumSportsPhysiotherapy);
            btnStadiumSportsPhysiotherapy.onPointerClickObservable.add(function(){
                manager.dispose();
                var scene1=createStadiumSportsPhysiotherapy();
                engine.stopRenderLoop();
                engine.runRenderLoop(function () {               
                    scene1.render();
                })
            })

            var btnGateACricket = new BABYLON.GUI.Button3D("Gate A");
            btnGateACricket.content = txtGateACricket; 
            manager.addControl(btnGateACricket);
            btnGateACricket.scaling.x=10;
            btnGateACricket.scaling.y=10;
            btnGateACricket.linkToTransformNode(locGateACricket);
            btnGateACricket.onPointerClickObservable.add(function(){
                manager.dispose();
                var scene1=createGateACricket();
                engine.stopRenderLoop();
                engine.runRenderLoop(function () {               
                    scene1.render();
                })
            })

            var btnSydneyCricketGround = new BABYLON.GUI.Button3D("Sydney Cricket Ground");
            btnSydneyCricketGround.content = txtSydneyCricketGround; 
            manager.addControl(btnSydneyCricketGround);
            btnSydneyCricketGround.scaling.x=10;
            btnSydneyCricketGround.scaling.y=10;
            btnSydneyCricketGround.linkToTransformNode(locSydneyCricketGround);
            btnSydneyCricketGround.onPointerClickObservable.add(function(){
                manager.dispose();
                var scene1=createSydneyCricketGround();
                engine.stopRenderLoop();
                engine.runRenderLoop(function () {               
                    scene1.render();
                })
            })

            var btnStadiumForecourt = new BABYLON.GUI.Button3D("Stadium Forecourt");
            btnStadiumForecourt.content = txtStadiumForecourt; 
            manager.addControl(btnStadiumForecourt);
            btnStadiumForecourt.scaling.x=10;
            btnStadiumForecourt.scaling.y=10;
            btnStadiumForecourt.linkToTransformNode(locStadiumForecourt);
            btnStadiumForecourt.onPointerClickObservable.add(function(){
                manager.dispose();
                var scene1=createStadiumForecourt();
                engine.stopRenderLoop();
                engine.runRenderLoop(function () {               
                    scene1.render();
                })
            })

            return scene;
        };

        var createStadium=function(){
            var scene = new BABYLON.Scene(engine);
            var camera = new BABYLON.ArcRotateCamera("Camera", Math.PI / 2,  Math.PI / 2, 10, BABYLON.Vector3.Zero(), scene);
            camera.attachControl(canvas, true);
            camera.lowerRadiusLimit = 1;
            camera.upperRadiusLimit = 25;   
        
            var stadium = new BABYLON.PhotoDome(
                "stadium",
                "https://raw.githubusercontent.com/KiritoNguyen/My_Image/master/MyImage/Phi/Stadium_3.jpg",
                {
                    resolution: 100,
                    size: 50
                },
                scene
            );
            createBtnClose();
            return scene;
        }

        var createParking=function(){
            var scene = new BABYLON.Scene(engine);
            var camera = new BABYLON.ArcRotateCamera("Camera", Math.PI / 2,  Math.PI / 2, 10, BABYLON.Vector3.Zero(), scene);
            camera.attachControl(canvas, true);
            camera.lowerRadiusLimit = 1;
            camera.upperRadiusLimit = 25;   
        
            var Parking = new BABYLON.PhotoDome(
                "parking",
                "https://raw.githubusercontent.com/KiritoNguyen/My_Image/master/MyImage/Phi/Parking.jpg",
                {
                    resolution: 100,
                    size: 50
                },
                scene
            );
            createBtnClose();
            return scene;
        }

        var createNationalLeague=function(){
            var scene = new BABYLON.Scene(engine);
            var camera = new BABYLON.ArcRotateCamera("Camera", Math.PI / 2,  Math.PI / 2, 10, BABYLON.Vector3.Zero(), scene);
            camera.attachControl(canvas, true);
            camera.lowerRadiusLimit = 1;
            camera.upperRadiusLimit = 25;   
        
            var national_league = new BABYLON.PhotoDome(
                "nationalLeague",
                "https://raw.githubusercontent.com/KiritoNguyen/My_Image/master/MyImage/Phi/National%20Rugby%20League.jpg",
                {
                    resolution: 100,
                    size: 50
                },
                scene
            );
            createBtnClose();
            return scene;
        }

        var createStadiumSportsPhysiotherapy = function(){
            var scene = new BABYLON.Scene(engine);
            var camera = new BABYLON.ArcRotateCamera("Camera", Math.PI / 2,  Math.PI / 2, 10, BABYLON.Vector3.Zero(), scene);
            camera.attachControl(canvas, true);
            camera.lowerRadiusLimit = 1;
            camera.upperRadiusLimit = 25;   
        
            var stadiumSportsPhysiotherapy = new BABYLON.PhotoDome(
                "stadiumSportsPhysiotherapy",
                "https://raw.githubusercontent.com/KiritoNguyen/My_Image/master/MyImage/Phi/STADIUM_SPORTS_PHYSIOTHERAPY.jpg",
                {
                    resolution: 100,
                    size: 50
                },
                scene
            );
            createBtnClose();
            return scene;
        }

        var createGateACricket = function(){
            var scene = new BABYLON.Scene(engine);
            var camera = new BABYLON.ArcRotateCamera("Camera", Math.PI / 2,  Math.PI / 2, 10, BABYLON.Vector3.Zero(), scene);
            camera.attachControl(canvas, true);
            camera.lowerRadiusLimit = 1;
            camera.upperRadiusLimit = 25;   
        
            var gateACricket = new BABYLON.PhotoDome(
                "gateA_Cricket",
                "https://raw.githubusercontent.com/KiritoNguyen/My_Image/master/MyImage/Phi/GATE_A.jpg",
                {
                    resolution: 100,
                    size: 50
                },
                scene
            );
            createBtnClose();
            return scene;
        }

        var createSydneyCricketGround = function(){
            var scene = new BABYLON.Scene(engine);
            var camera = new BABYLON.ArcRotateCamera("Camera", Math.PI / 2,  Math.PI / 2, 10, BABYLON.Vector3.Zero(), scene);
            camera.attachControl(canvas, true);
            camera.lowerRadiusLimit = 1;
            camera.upperRadiusLimit = 25;   
        
            var gateACricket = new BABYLON.PhotoDome(
                "sydneyCricketGround",
                "https://raw.githubusercontent.com/KiritoNguyen/My_Image/master/MyImage/Phi/Sydney_Cricket_Ground.jpg",
                {
                    resolution: 100,
                    size: 50
                },
                scene
            );
            createBtnClose();
            return scene;
        }

        var createStadiumForecourt=function(){
            var scene = new BABYLON.Scene(engine);
            var camera = new BABYLON.ArcRotateCamera("Camera", Math.PI / 2,  Math.PI / 2, 10, BABYLON.Vector3.Zero(), scene);
            camera.attachControl(canvas, true);
            camera.lowerRadiusLimit = 1;
            camera.upperRadiusLimit = 25;   
        
            var stadiumForecourt = new BABYLON.PhotoDome(
                "stadiumForecourt",
                "https://raw.githubusercontent.com/KiritoNguyen/My_Image/master/MyImage/Phi/ALLIANZ_STADIUM_FORECOURT.jpg",
                {
                    resolution: 100,
                    size: 50
                },
                scene
            );
            createBtnClose();
            return scene;
        }

        var createLake=function(){
            var scene = new BABYLON.Scene(engine);
            var camera = new BABYLON.ArcRotateCamera("Camera", Math.PI / 2,  Math.PI / 2, 10, BABYLON.Vector3.Zero(), scene);
            camera.attachControl(canvas, true);
            camera.lowerRadiusLimit = 1;
            camera.upperRadiusLimit = 25;   
        
            var lake = new BABYLON.PhotoDome(
                "lake",
                "https://raw.githubusercontent.com/KiritoNguyen/My_Image/master/MyImage/Phi/Kippax_Lake.jpg",
                {
                    resolution: 100,
                    size: 50
                },
                scene
            );
            createBtnClose();
            return scene;
        }
        var scene = createScene();

        engine.runRenderLoop(function () {
            if (scene) {
                scene.render();
            }
        });

        // Resize
        window.addEventListener("resize", function () {
            engine.resize();
        });
    </script>
</body>
</html>