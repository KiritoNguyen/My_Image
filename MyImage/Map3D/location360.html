<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

        <title>Location 360 Map</title>

        <!-- Babylon.js -->
        <script src="https://code.jquery.com/pep/0.4.2/pep.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.6.2/dat.gui.min.js"></script>
        <script src="https://preview.babylonjs.com/cannon.js"></script>
        <script src="https://preview.babylonjs.com/Oimo.js"></script>
        <script src="https://preview.babylonjs.com/gltf_validator.js"></script>
        <script src="https://preview.babylonjs.com/earcut.min.js"></script>
        <script src="https://preview.babylonjs.com/babylon.js"></script>
        <script src="https://preview.babylonjs.com/inspector/babylon.inspector.bundle.js"></script>
        <script src="https://preview.babylonjs.com/materialsLibrary/babylonjs.materials.min.js"></script>
        <script src="https://preview.babylonjs.com/proceduralTexturesLibrary/babylonjs.proceduralTextures.min.js"></script>
        <script src="https://preview.babylonjs.com/postProcessesLibrary/babylonjs.postProcess.min.js"></script>
        <script src="https://preview.babylonjs.com/loaders/babylonjs.loaders.js"></script>
        <script src="https://preview.babylonjs.com/serializers/babylonjs.serializers.min.js"></script>
        <script src="https://preview.babylonjs.com/gui/babylon.gui.min.js"></script>

        <style>
            html, body {
                overflow: hidden;
                width: 100%;
                height: 100%;
                margin: 0;
                padding: 0;
            }

            #renderCanvas {
                width: 100%;
                height: 100%;
                touch-action: none;
            }
        </style>
    </head>
<body>
    <canvas id="renderCanvas"></canvas>
    <script>
        var canvas = document.getElementById("renderCanvas");
        var engine = new BABYLON.Engine(canvas, true, { preserveDrawingBuffer: true, stencil: true });

        var createBtnClose = function() {
            var advancedTexture = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("UI");      
            var button = BABYLON.GUI.Button.CreateSimpleButton("but", "X");
            button.width = "40px";
            button.height ="40px";
            button.top = 10;
            button.left = -10;
            button.color = "white";
            button.verticalAlignment = BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP;
            button.horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_RIGHT;
            button.background = "green";
            advancedTexture.addControl(button);
            button.onPointerClickObservable.add(function(){
                advancedTexture.dispose();
                var scene1 = createScene();
                engine.stopRenderLoop();
                engine.runRenderLoop(function () {               
                    scene1.render();
                })
            })
        }

        var createScene = function () {
            var scene = new BABYLON.Scene(engine);
            var camera = new BABYLON.ArcRotateCamera("Camera", -Math.PI / 2,  Math.PI / 3, 125, BABYLON.Vector3.Zero(), scene);
            camera.target=new BABYLON.Vector3.Zero();
            camera.lowerRadiusLimit = 25;
            camera.upperRadiusLimit = 175; 
            camera.upperBetaLimit = Math.PI / 2;
            camera.attachControl(canvas, true);
            // camera.inputs.attached.mousewheel.detachControl(canvas);
            
            var light = new BABYLON.HemisphericLight("light1", new BABYLON.Vector3(0, 100, -100), scene);

            ///////////////////////// Skybox /////////////////////////
            var skybox = BABYLON.Mesh.CreateBox("skyBox", 600.0, scene);
            var skyboxMaterial = new BABYLON.StandardMaterial("skyBox", scene);
            skyboxMaterial.backFaceCulling = false;
            skyboxMaterial.reflectionTexture = new BABYLON.CubeTexture("https://raw.githubusercontent.com/BabylonJS/Website/master/Assets/skybox/TropicalSunnyDay", scene);
            skyboxMaterial.reflectionTexture.coordinatesMode = BABYLON.Texture.SKYBOX_MODE;
            skyboxMaterial.diffuseColor = new BABYLON.Color3(0, 0, 0);
            skyboxMaterial.specularColor = new BABYLON.Color3(0, 0, 0);
            skyboxMaterial.disableLighting = true;
            skybox.material = skyboxMaterial;

            // Ground
            var ground = BABYLON.Mesh.CreateGroundFromHeightMap("ground", 'https://raw.githubusercontent.com/KiritoNguyen/My_Image/master/MyImage/Nhan/DisplacementMap.png', 200, 200, 200, 0, 10, scene, false);
            var groundMaterial = new BABYLON.StandardMaterial("groundMat", scene)
            groundMaterial.diffuseTexture = new BABYLON.Texture("https://raw.githubusercontent.com/KiritoNguyen/My_Image/master/MyImage/Nhan/stadium_up.png", scene);
            groundMaterial.bumpTexture = new BABYLON.Texture('https://raw.githubusercontent.com/KiritoNguyen/My_Image/master/MyImage/Nhan/NormalMap.png', scene);
            groundMaterial.specularTexture = new BABYLON.Texture('https://raw.githubusercontent.com/KiritoNguyen/My_Image/master/MyImage/Nhan/SpecularMap.png', scene);
            groundMaterial.ambientTexture = new BABYLON.Texture('https://raw.githubusercontent.com/KiritoNguyen/My_Image/master/MyImage/Nhan/AmbientOcclusionMap.png', scene);
            ground.material = groundMaterial;
            ground.position.y = -15;

            var locStadium = new BABYLON.Mesh.CreateBox("locStadium", 0, scene);
            locStadium.visibility = 0;
            locStadium.position.x -= 40;
            locStadium.position.z += 20;
            locStadium.position.y -= 10;
            // locStadium.rotation.x = Math.PI/2;

            var locParking = new BABYLON.Mesh.CreateBox("locParking", 0, scene);
            locParking.visibility = 0;
            locParking.position.x -= 40;
            locParking.position.z -= 50;
            locParking.position.y -= 10;
            // locParking.rotation.x = Math.PI/2;

            var locNationalLeague = new BABYLON.Mesh.CreateBox("locNationalLeague", 0, scene);
            locNationalLeague.visibility = 0;
            locNationalLeague.position.x -= 20;
            locNationalLeague.position.z -= 60
            locNationalLeague.position.y -= 10;
            // locNationalLeague.rotation.x = Math.PI/2;

            var locKippaxLake = new BABYLON.Mesh.CreateBox("locKippaxLake", 0, scene);
            locKippaxLake.visibility = 0;
            locKippaxLake.position.x += 20;
            locKippaxLake.position.z -= 60
            locKippaxLake.position.y -= 10;
            // locKippaxLake.rotation.x = Math.PI/2;

            var locStadiumSportsPhysiotherapy = new BABYLON.Mesh.CreateBox("locStadiumSportsPhysiotherapy", 0, scene);
            locStadiumSportsPhysiotherapy.visibility = 0;
            locStadiumSportsPhysiotherapy.position.x -= 70;
            locStadiumSportsPhysiotherapy.position.z -= 25
            locStadiumSportsPhysiotherapy.position.y -= 10;
            // locStadiumSportsPhysiotherapy.rotation.x = Math.PI/2;

            var locGateACricket = new BABYLON.Mesh.CreateBox("locGateACricket", 0, scene);
            locGateACricket.visibility = 0;
            locGateACricket.position.x += 50;
            locGateACricket.position.z += 10
            locGateACricket.position.y -= 10;
            // locGateACricket.rotation.x = Math.PI/2;

            var locSydneyCricketGround = new BABYLON.Mesh.CreateBox("locSydneyCricketGround", 0, scene);
            locSydneyCricketGround.visibility = 0;
            locSydneyCricketGround.position.x += 40;
            locSydneyCricketGround.position.z += 50
            locSydneyCricketGround.position.y -= 10;
            // locSydneyCricketGround.rotation.x = Math.PI/2;

            var locStadiumForecourt = new BABYLON.Mesh.CreateBox("locStadiumForecourt", 0, scene);
            locStadiumForecourt.visibility = 0;
            locStadiumForecourt.position.x -= 15;
            locStadiumForecourt.position.z -= 40
            locStadiumForecourt.position.y -= 10;
            // locStadiumForecourt.rotation.x = Math.PI/2;

            var manager = new BABYLON.GUI.GUI3DManager(scene);
            var advancedTexture = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("UI");

            var btnStadium = BABYLON.GUI.Button.CreateSimpleButton("btnStadium", "Allianz Stadium");
            advancedTexture.addControl(btnStadium);
            btnStadium.width = "80px";
            btnStadium.height = "80px";
            btnStadium.color = "white";
            btnStadium.background = "gray";
            btnStadium.fontSize=15;
            btnStadium.linkWithMesh(locStadium);   
            btnStadium.linkOffsetY =-100;
            btnStadium.onPointerClickObservable.add(function(){
                advancedTexture.dispose();
                var scene1=createStadium();
                engine.stopRenderLoop();
                engine.runRenderLoop(function () {               
                    scene1.render();
                })
            })
            
            var lineStadium = new BABYLON.GUI.Line();
            lineStadium.lineWidth = 2;
            lineStadium.color = "Gray";
            lineStadium.y2 = 20;
            lineStadium.linkOffsetY = -10;
            advancedTexture.addControl(lineStadium);
            lineStadium.linkWithMesh(locStadium); 
            lineStadium.connectedControl = btnStadium; 

            var btnParking = BABYLON.GUI.Button.CreateSimpleButton("btnParking", "Parking");
            advancedTexture.addControl(btnParking);
            btnParking.width = "80px";
            btnParking.height = "80px";
            btnParking.color = "white";
            btnParking.background = "gray";
            btnParking.fontSize=15;
            btnParking.linkWithMesh(locParking);   
            btnParking.linkOffsetY =-100;
            btnParking.onPointerClickObservable.add(function(){
                advancedTexture.dispose();
                var scene1=createParking();
                engine.stopRenderLoop();
                engine.runRenderLoop(function () {               
                    scene1.render();
                })
            })

            var lineParking = new BABYLON.GUI.Line();
            lineParking.lineWidth = 2;
            lineParking.color = "Gray";
            lineParking.y2 = 20;
            lineParking.linkOffsetY = -10;
            advancedTexture.addControl(lineParking);
            lineParking.linkWithMesh(locParking); 
            lineParking.connectedControl = btnParking;  
            
            var btnNationalLeague = BABYLON.GUI.Button.CreateSimpleButton("btnNationalLeague", "National League");
            advancedTexture.addControl(btnNationalLeague);
            btnNationalLeague.width = "80px";
            btnNationalLeague.height = "80px";
            btnNationalLeague.color = "white";
            btnNationalLeague.background = "gray";
            btnNationalLeague.fontSize=15;
            btnNationalLeague.linkWithMesh(locNationalLeague);   
            btnNationalLeague.linkOffsetY =-100;
            btnNationalLeague.onPointerClickObservable.add(function(){
                advancedTexture.dispose();
                var scene1=createNationalLeague();
                engine.stopRenderLoop();
                engine.runRenderLoop(function () {               
                    scene1.render();
                })
            })

            var lineNationalLeague = new BABYLON.GUI.Line();
            lineNationalLeague.lineWidth = 2;
            lineNationalLeague.color = "Gray";
            lineNationalLeague.y2 = 20;
            lineNationalLeague.linkOffsetY = -10;
            advancedTexture.addControl(lineNationalLeague);
            lineNationalLeague.linkWithMesh(locNationalLeague); 
            lineNationalLeague.connectedControl = btnNationalLeague;  

            var btnKippaxLake = BABYLON.GUI.Button.CreateSimpleButton("btnKippaxLake", "Kippax Lake");
            advancedTexture.addControl(btnKippaxLake);
            btnKippaxLake.width = "80px";
            btnKippaxLake.height = "80px";
            btnKippaxLake.color = "white";
            btnKippaxLake.background = "gray";
            btnKippaxLake.fontSize=15;
            btnKippaxLake.linkWithMesh(locKippaxLake);   
            btnKippaxLake.linkOffsetY =-100;
            btnKippaxLake.onPointerClickObservable.add(function(){
                advancedTexture.dispose();
                var scene1=createLake();
                engine.stopRenderLoop();
                engine.runRenderLoop(function () {               
                    scene1.render();
                })
            })

            var lineKippaxLake = new BABYLON.GUI.Line();
            lineKippaxLake.lineWidth = 2;
            lineKippaxLake.color = "Gray";
            lineKippaxLake.y2 = 20;
            lineKippaxLake.linkOffsetY = -10;
            advancedTexture.addControl(lineKippaxLake);
            lineKippaxLake.linkWithMesh(locKippaxLake); 
            lineKippaxLake.connectedControl = btnKippaxLake;  

            var btnStadiumSportsPhysiotherapy = BABYLON.GUI.Button.CreateSimpleButton("btnStadiumSportsPhysiotherapy", "Stadium Sports Physiotherapy");
            advancedTexture.addControl(btnStadiumSportsPhysiotherapy);
            btnStadiumSportsPhysiotherapy.width = "100px";
            btnStadiumSportsPhysiotherapy.height = "80px";
            btnStadiumSportsPhysiotherapy.color = "white";
            btnStadiumSportsPhysiotherapy.background = "gray";
            btnStadiumSportsPhysiotherapy.fontSize=15;
            btnStadiumSportsPhysiotherapy.linkWithMesh(locStadiumSportsPhysiotherapy);   
            btnStadiumSportsPhysiotherapy.linkOffsetY =-100;
            btnStadiumSportsPhysiotherapy.onPointerClickObservable.add(function(){
                advancedTexture.dispose();
                var scene1=createStadiumSportsPhysiotherapy();
                engine.stopRenderLoop();
                engine.runRenderLoop(function () {               
                    scene1.render();
                })
            })

            var lineStadiumSportsPhysiotherapy = new BABYLON.GUI.Line();
            lineStadiumSportsPhysiotherapy.lineWidth = 2;
            lineStadiumSportsPhysiotherapy.color = "Gray";
            lineStadiumSportsPhysiotherapy.y2 = 20;
            lineStadiumSportsPhysiotherapy.linkOffsetY = -10;
            advancedTexture.addControl(lineStadiumSportsPhysiotherapy);
            lineStadiumSportsPhysiotherapy.linkWithMesh(locStadiumSportsPhysiotherapy); 
            lineStadiumSportsPhysiotherapy.connectedControl = btnStadiumSportsPhysiotherapy; 

            var btnGateACricket = BABYLON.GUI.Button.CreateSimpleButton("btnGateACricket", "Gate A");
            advancedTexture.addControl(btnGateACricket);
            btnGateACricket.width = "80px";
            btnGateACricket.height = "80px";
            btnGateACricket.color = "white";
            btnGateACricket.background = "gray";
            btnGateACricket.fontSize=15;
            btnGateACricket.linkWithMesh(locGateACricket);   
            btnGateACricket.linkOffsetY =-100;
            btnGateACricket.onPointerClickObservable.add(function(){
                advancedTexture.dispose();
                var scene1=createGateACricket();
                engine.stopRenderLoop();
                engine.runRenderLoop(function () {               
                    scene1.render();
                })
            })

            var lineGateACricket = new BABYLON.GUI.Line();
            lineGateACricket.lineWidth = 2;
            lineGateACricket.color = "Gray";
            lineGateACricket.y2 = 20;
            lineGateACricket.linkOffsetY = -10;
            advancedTexture.addControl(lineGateACricket);
            lineGateACricket.linkWithMesh(locGateACricket); 
            lineGateACricket.connectedControl = btnGateACricket; 

            var btnSydneyCricketGround = BABYLON.GUI.Button.CreateSimpleButton("btnSydneyCricketGround", "Sydney Cricket Ground");
            advancedTexture.addControl(btnSydneyCricketGround);
            btnSydneyCricketGround.width = "80px";
            btnSydneyCricketGround.height = "80px";
            btnSydneyCricketGround.color = "white";
            btnSydneyCricketGround.background = "gray";
            btnSydneyCricketGround.fontSize=15;
            btnSydneyCricketGround.linkWithMesh(locSydneyCricketGround);   
            btnSydneyCricketGround.linkOffsetY =-100;
            btnSydneyCricketGround.onPointerClickObservable.add(function(){
                advancedTexture.dispose();
                var scene1=createSydneyCricketGround();
                engine.stopRenderLoop();
                engine.runRenderLoop(function () {               
                    scene1.render();
                })
            })

            var lineSydneyCricketGroundt = new BABYLON.GUI.Line();
            lineSydneyCricketGroundt.lineWidth = 2;
            lineSydneyCricketGroundt.color = "Gray";
            lineSydneyCricketGroundt.y2 = 20;
            lineSydneyCricketGroundt.linkOffsetY = -10;
            advancedTexture.addControl(lineSydneyCricketGroundt);
            lineSydneyCricketGroundt.linkWithMesh(locSydneyCricketGround); 
            lineSydneyCricketGroundt.connectedControl = btnSydneyCricketGround; 

            var btnStadiumForecourt = BABYLON.GUI.Button.CreateSimpleButton("btnSydneyCricketGround", "Stadium Forecourt");
            advancedTexture.addControl(btnStadiumForecourt);
            btnStadiumForecourt.width = "80px";
            btnStadiumForecourt.height = "80px";
            btnStadiumForecourt.color = "white";
            btnStadiumForecourt.background = "gray";
            btnStadiumForecourt.fontSize=15;
            btnStadiumForecourt.linkWithMesh(locStadiumForecourt);   
            btnStadiumForecourt.linkOffsetY =-100;
            btnStadiumForecourt.onPointerClickObservable.add(function(){
                advancedTexture.dispose();
                var scene1=createStadiumForecourt();
                engine.stopRenderLoop();
                engine.runRenderLoop(function () {               
                    scene1.render();
                })
            })

            var lineStadiumForecourt = new BABYLON.GUI.Line();
            lineStadiumForecourt.lineWidth = 2;
            lineStadiumForecourt.color = "Gray";
            lineStadiumForecourt.y2 = 20;
            lineStadiumForecourt.linkOffsetY = -10;
            advancedTexture.addControl(lineStadiumForecourt);
            lineStadiumForecourt.linkWithMesh(locStadiumForecourt); 
            lineStadiumForecourt.connectedControl = btnStadiumForecourt;

            return scene;
        };

        var createStadium=function(){
            var scene = new BABYLON.Scene(engine);
            var camera = new BABYLON.ArcRotateCamera("Camera", Math.PI / 2,  Math.PI / 2, 10, BABYLON.Vector3.Zero(), scene);
            camera.attachControl(canvas, true);
            camera.lowerRadiusLimit = 1;
            camera.upperRadiusLimit = 25;   
        
            var stadium = new BABYLON.PhotoDome(
                "stadium",
                "https://raw.githubusercontent.com/KiritoNguyen/My_Image/master/MyImage/Phi/Stadium_3.jpg",
                {
                    resolution: 100,
                    size: 50
                },
                scene
            );
            createBtnClose();
            return scene;
        }

        var createParking=function(){
            var scene = new BABYLON.Scene(engine);
            var camera = new BABYLON.ArcRotateCamera("Camera", Math.PI / 2,  Math.PI / 2, 10, BABYLON.Vector3.Zero(), scene);
            camera.attachControl(canvas, true);
            camera.lowerRadiusLimit = 1;
            camera.upperRadiusLimit = 25;   
        
            var Parking = new BABYLON.PhotoDome(
                "parking",
                "https://raw.githubusercontent.com/KiritoNguyen/My_Image/master/MyImage/Phi/Parking.jpg",
                {
                    resolution: 100,
                    size: 50
                },
                scene
            );
            createBtnClose();
            return scene;
        }

        var createNationalLeague=function(){
            var scene = new BABYLON.Scene(engine);
            var camera = new BABYLON.ArcRotateCamera("Camera", Math.PI / 2,  Math.PI / 2, 10, BABYLON.Vector3.Zero(), scene);
            camera.attachControl(canvas, true);
            camera.lowerRadiusLimit = 1;
            camera.upperRadiusLimit = 25;   
        
            var national_league = new BABYLON.PhotoDome(
                "nationalLeague",
                "https://raw.githubusercontent.com/KiritoNguyen/My_Image/master/MyImage/Phi/National%20Rugby%20League.jpg",
                {
                    resolution: 100,
                    size: 50
                },
                scene
            );
            createBtnClose();
            return scene;
        }

        var createStadiumSportsPhysiotherapy = function(){
            var scene = new BABYLON.Scene(engine);
            var camera = new BABYLON.ArcRotateCamera("Camera", Math.PI / 2,  Math.PI / 2, 10, BABYLON.Vector3.Zero(), scene);
            camera.attachControl(canvas, true);
            camera.lowerRadiusLimit = 1;
            camera.upperRadiusLimit = 25;   
        
            var stadiumSportsPhysiotherapy = new BABYLON.PhotoDome(
                "stadiumSportsPhysiotherapy",
                "https://raw.githubusercontent.com/KiritoNguyen/My_Image/master/MyImage/Phi/STADIUM_SPORTS_PHYSIOTHERAPY.jpg",
                {
                    resolution: 100,
                    size: 50
                },
                scene
            );
            createBtnClose();
            return scene;
        }

        var createGateACricket = function(){
            var scene = new BABYLON.Scene(engine);
            var camera = new BABYLON.ArcRotateCamera("Camera", Math.PI / 2,  Math.PI / 2, 10, BABYLON.Vector3.Zero(), scene);
            camera.attachControl(canvas, true);
            camera.lowerRadiusLimit = 1;
            camera.upperRadiusLimit = 25;   
        
            var gateACricket = new BABYLON.PhotoDome(
                "gateA_Cricket",
                "https://raw.githubusercontent.com/KiritoNguyen/My_Image/master/MyImage/Phi/GATE_A.jpg",
                {
                    resolution: 100,
                    size: 50
                },
                scene
            );
            createBtnClose();
            return scene;
        }

        var createSydneyCricketGround = function(){
            var scene = new BABYLON.Scene(engine);
            var camera = new BABYLON.ArcRotateCamera("Camera", Math.PI / 2,  Math.PI / 2, 10, BABYLON.Vector3.Zero(), scene);
            camera.attachControl(canvas, true);
            camera.lowerRadiusLimit = 1;
            camera.upperRadiusLimit = 25;   
        
            var gateACricket = new BABYLON.PhotoDome(
                "sydneyCricketGround",
                "https://raw.githubusercontent.com/KiritoNguyen/My_Image/master/MyImage/Phi/Sydney_Cricket_Ground.jpg",
                {
                    resolution: 100,
                    size: 50
                },
                scene
            );
            createBtnClose();
            return scene;
        }

        var createStadiumForecourt=function(){
            var scene = new BABYLON.Scene(engine);
            var camera = new BABYLON.ArcRotateCamera("Camera", Math.PI / 2,  Math.PI / 2, 10, BABYLON.Vector3.Zero(), scene);
            camera.attachControl(canvas, true);
            camera.lowerRadiusLimit = 1;
            camera.upperRadiusLimit = 25;   
        
            var stadiumForecourt = new BABYLON.PhotoDome(
                "stadiumForecourt",
                "https://raw.githubusercontent.com/KiritoNguyen/My_Image/master/MyImage/Phi/ALLIANZ_STADIUM_FORECOURT.jpg",
                {
                    resolution: 100,
                    size: 50
                },
                scene
            );
            createBtnClose();
            return scene;
        }

        var createLake=function(){
            var scene = new BABYLON.Scene(engine);
            var camera = new BABYLON.ArcRotateCamera("Camera", Math.PI / 2,  Math.PI / 2, 10, BABYLON.Vector3.Zero(), scene);
            camera.attachControl(canvas, true);
            camera.lowerRadiusLimit = 1;
            camera.upperRadiusLimit = 25;   
        
            var lake = new BABYLON.PhotoDome(
                "lake",
                "https://raw.githubusercontent.com/KiritoNguyen/My_Image/master/MyImage/Phi/Kippax_Lake.jpg",
                {
                    resolution: 100,
                    size: 50
                },
                scene
            );
            createBtnClose();
            return scene;
        }
        var scene = createScene();

        engine.runRenderLoop(function () {
            if (scene) {
                scene.render();
            }
        });

        // Resize
        window.addEventListener("resize", function () {
            engine.resize();
        });
    </script>
</body>
</html>